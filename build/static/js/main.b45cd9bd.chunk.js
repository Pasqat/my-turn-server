(this.webpackJsonpil_mio_turno=this.webpackJsonpil_mio_turno||[]).push([[0],{36:function(n,e,t){},56:function(n,e,t){"use strict";t.r(e);var r=t(0),c=t(3),a=t.n(c),o=t(26),i=t.n(o),u=t(5),s=(t(36),t(1)),d=t(2);function l(){var n=Object(s.a)(["\n            html {\n                --color-text: #595e77;\n                --color-text-light: #3e4157;\n                --color-background: #292b3f;\n                --gradient-background: linear-gradient(\n                    to bottom,\n                    #292b3f,\n                    #332639\n                );\n                --background-main: rgba(71, 70, 91, 0.25);\n                --color-header-background: #1d1d31;\n                --color-primary: #1099a2;\n                --color-secondary: #b19053;\n                --color-blue1: #1099a2;\n                --color-yellow1: #b19053;\n                --color-orange1: #b16550;\n                --color-green1: #3c973f;\n                --color-border: 2px solid #37394e;\n                --color-selected: #3a3a51;\n            }\n        "]);return l=function(){return n},n}function b(){var n=Object(s.a)(["\n            html {\n                --color-text: #595e77;\n                --color-text-light: #c6c9df;\n                --color-background: #fff;\n                --gradient-background: linear-gradient(\n                    to bottom,\n                    #fff,\n                    #eae4ff\n                );\n                --background-main: rgba(0, 0, 0, 0);\n                --color-header-background: #e8edff;\n                --color-primary: #4bbced;\n                --color-secondary: #fcd173;\n                --color-blue1: #4bbced;\n                --color-yellow1: #fcd173;\n                --color-orange1: #eb7b52;\n                --color-green1: #43b34f;\n                --color-border: 2px solid rgb(240, 246, 247);\n                --color-selected: #e8edff;\n            }\n        "]);return b=function(){return n},n}function f(){var n=Object(s.a)(["\n","\n\nbody {\n    height: 100%;\n    background: var(--color-background);\n    background-repeat: no-repeat;\n    color: var(--color-text);\n    overflow-x: hidden;\n    margin: 0;\n  font-family: 'Lato', 'Roboto', sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  }\n\n * {\n     margin: 0;\n     box-sizing: border-box;}\n"]);return f=function(){return n},n}var p=Object(d.a)(f(),(function(n){return"light"===n.theme?Object(d.b)(b()):"dark"===n.theme?Object(d.b)(l()):void 0})),j=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.serialize,a=void 0===r?JSON.stringify:r,o=t.deserialize,i=void 0===o?JSON.parse:o,s=Object(c.useRef)(n),d=Object(c.useState)((function(){var t=window.localStorage.getItem(n);return t?i(t):"function"===typeof e?e():e})),l=Object(u.a)(d,2),b=l[0],f=l[1];return Object(c.useEffect)((function(){var e=s.current;e!==n&&window.localStorage.removeItem(e),s.current=n,window.localStorage.setItem(n,a(b))}),[n,a,b]),[b,f]};function h(){var n=Object(s.a)([""]);return h=function(){return n},n}var x=d.c.svg.attrs({version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"})(h());function g(){var n=Object(s.a)(["\n    width: 24px;\n    height: 24px;\n"]);return g=function(){return n},n}var v=Object(d.c)(x)(g()),m=function(n){var e=n.className;return Object(r.jsxs)(v,{viewBox:"0 0 24 24",className:e,fill:"currentColor",children:[Object(r.jsx)("rect",{width:"2",height:"2",x:"9",y:"2"}),Object(r.jsx)("rect",{width:"2",height:"2",x:"13.88",y:"4.051",transform:"rotate(45.02 14.88 5.051)"}),Object(r.jsx)("rect",{width:"2",height:"2",x:"16",y:"9"}),Object(r.jsx)("rect",{width:"2",height:"2",x:"13.949",y:"14.019",transform:"rotate(-135.02 14.95 15.019)"}),Object(r.jsx)("rect",{width:"2",height:"2",x:"9",y:"16"}),Object(r.jsx)("rect",{width:"2",height:"2",x:"3.98",y:"13.949",transform:"rotate(-134.98 4.98 14.95)"}),Object(r.jsx)("rect",{width:"2",height:"2",x:"2",y:"9"}),Object(r.jsx)("rect",{width:"2",height:"2",x:"4.05",y:"4.121",transform:"rotate(44.98 5.05 5.12)"}),Object(r.jsx)("path",{d:"M10,6 C7.8,6 6,7.8 6,10 C6,12.2 7.8,14 10,14 C12.2,14 14,12.2 14,10 C14,7.8 12.2,6 10,6 Z"})]})},O=function(n){var e=n.className;return Object(r.jsx)(v,{viewBox:"0 0 24 24",className:e,fill:"currentColor",children:Object(r.jsx)("path",{d:"M8,2 C4.5,2.9 2,6.1 2,9.9 C2,14.4 5.6,18 10.1,18 C13.9,18 17,15.5 18,12 C11.9,13.7 6.3,8.1 8,2 Z"})})};function y(){var n=Object(s.a)(["\n    cursor: pointer;\n    display: flex;\n    align-items: end;\n    margin-right: 1em;\n    margin-left: auto;\n    height: 100%;\n"]);return y=function(){return n},n}function w(){var n=Object(s.a)(["\n    font-size: 1.5rem;\n    text-decoration: none;\n    cursor: pointer;\n    color: var(--color-primary);\n"]);return w=function(){return n},n}function k(){var n=Object(s.a)(["\n    font-weight: 400;\n    font-size: 2rem;\n    margin: 0;\n"]);return k=function(){return n},n}function C(){var n=Object(s.a)(['\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    align-items: center;\n    background: var(--color-background);\n    box-shadow: rgba(0, 0, 0, 0.3) 0px 1px 3px;\n    padding: 10px 2rem;\n    color: var(--color-primary);\n    font-family: "Raleway", sans-serif;\n']);return C=function(){return n},n}var S=d.c.div(C()),z=d.c.h2(k()),T=d.c.div(w()),N=d.c.div(y()),D=function(n){var e=n.switchTheme,t=n.setUser,a=j("theme","dark"),o=Object(u.a)(a,2),i=o[0],s=o[1];Object(c.useEffect)((function(){e(i)}),[e,i]);return Object(r.jsxs)(S,{children:[Object(r.jsx)(z,{children:"My Turn"}),Object(r.jsx)(N,{onClick:function(){return s("dark"===i?"light":"dark")},children:"light"===i?Object(r.jsx)(O,{}):Object(r.jsx)(m,{})}),Object(r.jsx)("div",{onClick:function(){return window.localStorage.removeItem("loggedUser"),t(null)},children:Object(r.jsx)(T,{children:"log-out"})})]})};function E(){var n=Object(s.a)(["\n    visibility: hidden;\n    width: 2rem;\n    background-color: var(--color-header-background);\n    color: #fff;\n    box-shadow: 0 2px 5px 1px rgba(0, 0, 0, 0.2);\n    text-align: center;\n    border-radius: 6px;\n    padding: 5px 0;\n    position: absolute;\n    left: 0;\n    bottom: -2rem;\n    z-index: 1;\n\n    ",":hover & {\n        visibility: visible;\n    }\n"]);return E=function(){return n},n}function M(){var n=Object(s.a)(["\n    position: relative;\n"]);return M=function(){return n},n}var _=d.c.div(M()),A=d.c.span(E(),_);function U(){var n=Object(s.a)(["\n            background-color: var(",");\n        "]);return U=function(){return n},n}function I(){var n=Object(s.a)(["\n    width: 18px;\n    height: 18px;\n    margin-right: 10px;\n    border-radius: 50%;\n\n    ","}\n"]);return I=function(){return n},n}function L(){var n=Object(s.a)(["\n    display: flex;\n    align-items: center;\n    padding-bottom: 1rem;\n"]);return L=function(){return n},n}function R(){var n=Object(s.a)(["\n    padding: 20px;\n    @media (max-width: 800px) {\n        display: flex;\n        flex-direction: row;\n        justify-content: space-evenly;\n        padding-bottom: 0;\n    }\n"]);return R=function(){return n},n}var F=d.c.div(R()),B=d.c.div(L()),J=d.c.div(I(),(function(n){return Object(d.b)(U(),n.color)})),Y=function(n){var e=n.acceptedShift;return console.log("on legend",e),e?Object(r.jsx)(F,{children:e.map((function(n){return Object(r.jsxs)(B,{children:[Object(r.jsx)(J,{color:n.color}),Object(r.jsxs)(_,{children:[n.shiftName,Object(r.jsx)(A,{children:n.hours})]})]},n.shiftName)}))}):Object(r.jsx)(B,{children:"Loading..."})};function W(){var n=Object(s.a)(["\n    height: 59px;\n    @media (max-width: 800px) {\n        display: none;\n    }\n"]);return W=function(){return n},n}function Z(){var n=Object(s.a)(["\n    max-width: 18rem;\n    @media (max-width: 800px) {\n        max-width: inherit;\n    }\n"]);return Z=function(){return n},n}var X=d.c.div(Z()),$=d.c.div(W()),q=function(n){var e=n.acceptedShift;return console.log("on Sidebar",e),Object(r.jsxs)(X,{children:[Object(r.jsx)($,{}),Object(r.jsx)(Y,{acceptedShift:e})]})},G=t(4),H=t.n(G),K=t(6),P=t(13),Q=t(30),V={morning:"morning",afternoon:"afternoon",fullday:"fullday",night:"night"},nn=function(n){switch(n){case V.morning:return Object(r.jsx)(Fn,{workshift:V.morning});case V.afternoon:return Object(r.jsx)(Fn,{workshift:V.afternoon});case V.night:return Object(r.jsx)(Fn,{workshift:V.night});case V.fullday:return Object(r.jsx)(Fn,{workshift:V.fullday});default:return Object(r.jsx)(Fn,{workshift:V.night})}};function en(){var n=Object(s.a)(["\n    font-size: 1rem;\n    display: none;\n    color: red;\n    ",":hover & {\n        display: block;\n        cursor: pointer;\n    }\n"]);return en=function(){return n},n}function tn(){var n=Object(s.a)(["\n    padding: 10px 20px;\n    font-size: 1.5rem;\n    @media (max-width: 768px) {\n        font-size: 1rem;\n    }\n"]);return tn=function(){return n},n}function rn(){var n=Object(s.a)(["\n                background-color: var(--color-green1);\n            "]);return rn=function(){return n},n}function cn(){var n=Object(s.a)(["\n                background-color: var(--color-orange1);\n            "]);return cn=function(){return n},n}function an(){var n=Object(s.a)(["\n                background-color: var(--color-yellow1);\n            "]);return an=function(){return n},n}function on(){var n=Object(s.a)(["\n                    background-color: var(--color-blue1);\n            "]);return on=function(){return n},n}function un(){var n=Object(s.a)(["\n                background-color: var(--color-selected);\n            "]);return un=function(){return n},n}function sn(){var n=Object(s.a)(["\n    position: absolute;\n    top: 0;\n    left: 0;\n    height: 100%;\n    width: 100%;\n    cursor: pointer;\n    background-color: yellow;\n    cursor: pointer;\n    ","\n"]);return sn=function(){return n},n}function dn(){var n=Object(s.a)(["\n            background-color: var(--color-selected);\n        "]);return dn=function(){return n},n}function ln(){var n=Object(s.a)(["\n    width: 2.8%;\n    border: var(--color-border);\n    ",";\n    position: sticky;\n    position: -webkit-sticky; /* safari */\n    top: -2px;\n    background-color: var(--color-background);\n    z-index: 5;\n"]);return ln=function(){return n},n}function bn(){var n=Object(s.a)(["\n            background-color: var(--color-selected);\n        "]);return bn=function(){return n},n}function fn(){var n=Object(s.a)(["\n    border: var(--color-border);\n    font-weight: normal;\n    position: relative;\n    ",";\n"]);return fn=function(){return n},n}function pn(){var n=Object(s.a)(["\n    border: var(--color-border);\n    overflow: inherit;\n"]);return pn=function(){return n},n}function jn(){var n=Object(s.a)([""]);return jn=function(){return n},n}function hn(){var n=Object(s.a)(["\n    border-collapse: collapse;\n    width: 100%;\n    /* background: var(--background-main); */\n    @media (max-width: 800px) {\n        margin-bottom: 20px;\n    }\n"]);return hn=function(){return n},n}function xn(){var n=Object(s.a)(["\n            background-color: var(--color-selected);\n        "]);return xn=function(){return n},n}function gn(){var n=Object(s.a)(["\n            background-color: var(--color-selected);\n        "]);return gn=function(){return n},n}function vn(){var n=Object(s.a)(["\n    /* width: 14.2%; */\n    height: 2rem;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    cursor: pointer;\n    user-select: none;\n    /* border-left: var(--color-border) */\n\n    ","\n\n    ","\n"]);return vn=function(){return n},n}function mn(){var n=Object(s.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: 30px;\n    margin-left: 20px;\n    padding: 10px 20px;\n    color: var(--color-green1);\n    font-weight: bold;\n    font-size: 1.3rem;\n    border: var(--color-border);\n    cursor: pointer;\n    :hover {\n        background: var(--color-green1);\n        color: #ededed;\n        border: 2px solid var(--color-green1);\n    }\n"]);return mn=function(){return n},n}function On(){var n=Object(s.a)(["\n            display: inherit;\n        "]);return On=function(){return n},n}function yn(){var n=Object(s.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: 30px;\n    margin-left: 20px;\n    padding: 10px 20px;\n    color: var(--color-primary);\n    font-weight: bold;\n    font-size: 1.3rem;\n    border: var(--color-border);\n    cursor: pointer;\n    :hover {\n        background: var(--color-primary);\n        color: var(--color-background);\n        border: 2px solid var(--color-primary);\n    }\n    display: none;\n    ","\n"]);return yn=function(){return n},n}function wn(){var n=Object(s.a)(["\n    cursor: pointer;\n    margin: 0 15px;\n"]);return wn=function(){return n},n}function kn(){var n=Object(s.a)(["\n    display: flex;\n    justify-content: center;\n    padding: 20px 15px;\n    color: var(--color-primary);\n    letter-spacing: 2px;\n    /* background: var(--background-main); */\n    /* overflow-y: auto; */\n"]);return kn=function(){return n},n}function Cn(){var n=Object(s.a)(["\n    @media (max-width: 800px) {\n        overflow-x: scroll;\n    }\n"]);return Cn=function(){return n},n}function Sn(){var n=Object(s.a)(["\n    display: flex;\n    flex-direction: column;\n    /* margin-left: 18rem; */\n    height: 100%;\n    width: 100%;\n    padding-right: 30px;\n    @media (max-width: 800px) {\n        padding: 0 10px;\n    }\n"]);return Sn=function(){return n},n}var zn=d.c.div(Sn()),Tn=d.c.div(Cn()),Nn=d.c.div(kn()),Dn=d.c.div(wn()),En=d.c.div(yn(),(function(n){return n.isEditable&&Object(d.b)(On())})),Mn=d.c.div(mn()),_n=d.c.div(vn(),(function(n){return n.isToday&&Object(d.b)(gn())}),(function(n){return n.isSelected&&Object(d.b)(xn())})),An=d.c.table(hn()),Un=d.c.thead(jn()),In=d.c.tr(pn()),Ln=d.c.td(fn(),(function(n){return n.isToday&&Object(d.b)(bn())})),Rn=d.c.th(ln(),(function(n){return n.isToday&&Object(d.b)(dn())})),Fn=d.c.div(sn(),(function(n){switch(n.isToday&&Object(d.b)(un()),n.workshift){case V.morning:return Object(d.b)(on());case V.afternoon:return Object(d.b)(an());case V.night:return Object(d.b)(cn());case V.fullday:return Object(d.b)(rn());default:throw new Error("workshift must be one of this: 'morning', 'afternoon', 'night'. Use `".concat(V,"`"))}})),Bn=d.c.div(tn()),Jn=d.c.div(en(),Bn),Yn=[31,28,31,30,31,30,31,31,30,31,30,31],Wn=[31,29,31,30,31,30,31,31,30,31,30,31],Zn=["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre"],Xn=t(9);function $n(n){return new Date(n.getFullYear(),n.getMonth(),1).getDay()}function qn(n){return n%4===0&&n%100!==0||n%400===0}function Gn(n){return{day:n.getDate(),month:n.getMonth(),year:n.getFullYear(),startDay:$n(n)}}var Hn="next_month",Kn="previous_month",Pn="update",Qn="new_date";function Vn(n,e){var t=e.type,r=e.payload;switch(t){case Hn:var c=new Date(n.year,n.month+1,n.day);return Object(Xn.a)({date:c},Gn(c));case Kn:var a=new Date(n.year,n.month-1,n.day);return Object(Xn.a)(Object(Xn.a)({},n),{},{date:a},Gn(a));case Pn:return Object(Xn.a)(Object(Xn.a)({},n),{},{day:n.date.getDate(),month:n.date.getMonth(),year:n.date.getFullYear(),setStartday:$n(n.date)});case Qn:var o=r.year,i=r.month,u=r.day,s=new Date(o,i,u);return Object(Xn.a)(Object(Xn.a)({},n),{},{date:s},Gn(s));default:throw new Error("Unsupported type: ".concat(t))}}var ne=new Date,ee={date:ne,day:ne.getDate(),month:ne.getMonth(),year:ne.getFullYear(),startDay:$n(ne)};var te=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=n.reducer,t=void 0===e?Vn:e,r=Object(c.useReducer)(t,ee),a=Object(u.a)(r,2),o=a[0],i=a[1],s=o.date,d=o.day,l=o.month,b=o.year,f=o.startDay,p=qn(s.getFullYear())?Wn:Yn;function j(n){return n===ne.getDate()}var h=function(){i({type:Hn})},x=function(){i({type:Kn})},g=function(n,e,t){i({type:Qn,payload:{year:n,month:e,day:t}})};return{isToday:j,days:p,nextMonth:h,previousMonth:x,newDate:g,date:s,day:d,month:l,year:b,startDay:f}};var re=t(8),ce=t.n(re),ae="loggedUser",oe=function(){return JSON.parse(localStorage.getItem(ae))},ie=function(n){return localStorage.setItem(ae,JSON.stringify(n))},ue=function(){return{headers:{Authorization:"bearer ".concat(oe().token)}}},se="/api/schedule",de={getAll:function(){var n=Object(K.a)(H.a.mark((function n(){var e;return H.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,ce.a.get(se,ue());case 2:return e=n.sent,n.abrupt("return",e.data);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),getYear:function(){var n=Object(K.a)(H.a.mark((function n(e){var t;return H.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,ce.a.get("".concat(se,"/").concat(e),ue());case 2:return t=n.sent,n.abrupt("return",t.data);case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),getMonth:function(){var n=Object(K.a)(H.a.mark((function n(e,t){var r;return H.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,ce.a.get("".concat(se,"/").concat(e,"/").concat(t+1),ue());case 2:return r=n.sent,n.abrupt("return",r.data);case 4:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),addNewMember:function(){var n=Object(K.a)(H.a.mark((function n(e,t,r){var c;return H.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,ce.a.post("".concat(se,"/").concat(t,"/").concat(r+1),e,ue());case 2:return c=n.sent,n.abrupt("return",c.data);case 4:case"end":return n.stop()}}),n)})));return function(e,t,r){return n.apply(this,arguments)}}(),update:function(){var n=Object(K.a)(H.a.mark((function n(e,t,r){var c;return H.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,ce.a.put("".concat(se,"/").concat(e,"/").concat(t),r,ue());case 2:return c=n.sent,n.abrupt("return",c.data);case 4:case"end":return n.stop()}}),n)})));return function(e,t,r){return n.apply(this,arguments)}}(),removeTeamMember:function(){var n=Object(K.a)(H.a.mark((function n(e,t){var r;return H.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,ce.a.delete("".concat(se,"/").concat(e,"/").concat(t),ue());case 2:return r=n.sent,n.abrupt("return",r.data);case 4:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},le=[V.morning,V.afternoon,V.night,V.fullday,""],be=function(){var n=a.a.useState(!1),e=Object(u.a)(n,2),t=e[0],c=e[1],o=function(n){var e=a.a.useState(!1),t=Object(u.a)(e,2),r=t[0],c=t[1];return a.a.useEffect((function(){var e=window.matchMedia(n);e.matches!==r&&c(e.matches);var t=function(){c(e.matches)};return e.addEventListener("change",t),function(){return e.removeEventListener("change",t)}}),[r,n]),r}("(min-width: 800px)"),i=te(),s=i.isToday,d=i.nextMonth,l=i.previousMonth,b=i.days,f=i.day,p=i.month,h=i.year,x=j("turns",[]),g=Object(u.a)(x,2),v=g[0],m=g[1];a.a.useEffect((function(){de.getMonth(h,p).then((function(n){m(n)}))}),[h,p,m]);var O=function(n,e){for(var t=n.name,c=n.days,a=n._id,o=[Object(r.jsx)(Ln,{children:Object(r.jsxs)(Bn,{children:[t,Object(r.jsx)(Jn,{onClick:function(){return C(a,t)},children:"delete"})]})},a+"tr"||!1)],i=function(n){c&&c[n]?o.push(Object(r.jsx)(Ln,{onClick:function(){return w(a,n,c[n])},children:nn(c[n])},a+n)):o.push(Object(r.jsx)(Ln,{onClick:function(){return w(a,n,c[n])}},a+n))},u=0;u<e-1;u++)i(u);return o},y=function(n){var e,t=[Object(r.jsx)(Ln,{children:Object(r.jsx)(_n,{isSelected:n+1===f,children:n+1})},"dayTCell"+n)],c=Object(Q.a)(v);try{var a=function(){var c=e.value;c.days&&c.days[n]?t.push(Object(r.jsx)(Ln,{onClick:function(){return w(c._id,n,c.days[n])},children:nn(c.days[n])},c._id+n)):t.push(Object(r.jsx)(Ln,{onClick:function(){return w(c._id,n,c.days[n])}},c._id+n))};for(c.s();!(e=c.n()).done;)a()}catch(o){c.e(o)}finally{c.f()}return t},w=function(n,e,r){if(t){var c=le.findIndex((function(n){return n===r})),a=c;c===le.length-1&&(a=-1);var o=v.find((function(e){return e._id===n})).days;null===o&&(o=[]),o[e]=le[a+1],de.update(h,n,o),m(Object(P.a)(v))}},k=function(){var n=Object(K.a)(H.a.mark((function n(){var e,t,r;return H.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(null!==(e=prompt("Insert name"))){n.next=3;break}return n.abrupt("return");case 3:if(0!==e.length){n.next=5;break}return n.abrupt("return",alert("Name can't be empty"));case 5:return t={name:e},n.next=8,de.addNewMember(t,h,p);case 8:r=n.sent,m([].concat(Object(P.a)(v),[r]));case 10:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();function C(n,e){var t=v.filter((function(e){return e._id!==n}));window.confirm("Remove ".concat(e,"?"))&&(de.removeTeamMember(h,n),m(Object(P.a)(t)))}return o?Object(r.jsxs)(zn,{children:[Object(r.jsxs)(Nn,{children:[Object(r.jsx)(Dn,{onClick:function(){return l()},children:"<"}),Object(r.jsxs)("div",{children:[Zn[p].toUpperCase()," ",h]}),Object(r.jsx)(Dn,{onClick:function(){return d()},children:">"})]}),Object(r.jsx)(Tn,{children:Object(r.jsxs)(An,{children:[Object(r.jsx)(Un,{children:Object(r.jsx)(In,{children:Array(b[p]+1).fill(null).map((function(n,e){return Object(r.jsx)(Rn,{isToday:s(e),children:Object(r.jsx)(_n,{isSelected:e===f,children:e>0?e:""})},e)}))})}),Object(r.jsx)("tbody",{children:v.map((function(n){return Object(r.jsx)(In,{children:O(n,b[p]+1)},n._id)}))})]})}),Object(r.jsxs)("div",{style:{display:"flex",marginLeft:"auto",justifyContent:"center",alignContent:"space-around",marginTop:"40px"},children:[Object(r.jsx)(En,{onClick:function(){return k()},isEditable:t,children:"Add new"}),Object(r.jsx)(Mn,{onClick:function(){return c(!t)},children:t?"Done":"Edit"})]})]}):Object(r.jsxs)(zn,{children:[Object(r.jsxs)(Nn,{children:[Object(r.jsx)(Dn,{onClick:function(){return l()},children:"<"}),Object(r.jsxs)("div",{children:[Zn[p].toUpperCase()," ",h]}),Object(r.jsx)(Dn,{onClick:function(){return d()},children:">"})]}),Object(r.jsxs)("div",{style:{display:"flex",marginLeft:"auto",marginBottom:"20px",justifyContent:"center",alignContent:"space-around"},children:[Object(r.jsx)(En,{onClick:function(){return k()},isEditable:t,children:"Add new"}),Object(r.jsx)(Mn,{onClick:function(){return c(!t)},children:t?"Done":"Edit"})]}),Object(r.jsx)(Tn,{children:0!==v.length?Object(r.jsxs)(An,{children:[Object(r.jsx)(Un,{children:Object(r.jsxs)(In,{children:[Object(r.jsx)(Rn,{}),v.map((function(n){return Object(r.jsx)(Rn,{children:Object(r.jsxs)(Bn,{children:[n.name,Object(r.jsx)(Jn,{onClick:function(){return C(n._id,n.name)},children:"delete"})]})},n._id)}))]})}),Object(r.jsx)("tbody",{children:Array(b[p]).fill(null).map((function(n,e){return Object(r.jsx)(In,{children:y(e)},e)}))})]}):Object(r.jsxs)("div",{style:{marginBottom:"40px"},children:["Start by clicking on"," ",Object(r.jsx)("span",{style:{fontWeight:"bold"},children:"edit"})," and add a new person"]})}),Object(r.jsxs)("div",{style:{display:"flex",marginLeft:"auto",marginBottom:"20px",justifyContent:"center",alignContent:"space-around"},children:[Object(r.jsx)(En,{onClick:function(){return k()},isEditable:t,children:"Add new"}),Object(r.jsx)(Mn,{onClick:function(){return c(!t)},children:t?"Done":"Edit"})]})]})},fe="/api/team",pe={getAll:function(){var n=Object(K.a)(H.a.mark((function n(){var e;return H.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,ce.a.get(fe);case 2:return e=n.sent,n.abrupt("return",e.data);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),register:function(){var n=Object(K.a)(H.a.mark((function n(e){var t;return H.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,ce.a.post(fe,e);case 2:return t=n.sent,n.abrupt("return",t.data);case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),getAcceptedShift:function(){var n=Object(K.a)(H.a.mark((function n(){var e;return H.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,ce.a.get("".concat(fe,"/accepted-shift/"),ue());case 2:return e=n.sent,n.abrupt("return",e.data);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}()};function je(){var n=Object(s.a)(["\n    width: 100vw;\n    display: flex;\n    @media (max-width: 800px) {\n        flex-direction: column;\n    }\n"]);return je=function(){return n},n}var he=d.c.div(je()),xe=function(){var n=a.a.useState(),e=Object(u.a)(n,2),t=e[0],c=e[1];return a.a.useEffect((function(){pe.getAcceptedShift().then((function(n){return c(n.acceptedShift)})),console.log("acceptedShift",t)}),[c]),Object(r.jsxs)(he,{children:[Object(r.jsx)(q,{acceptedShift:t}),Object(r.jsx)(be,{style:{backgroundColor:"var(--gradient-background)",height:"100%"}})]})},ge={login:function(){var n=Object(K.a)(H.a.mark((function n(e){var t;return H.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,ce.a.post("/api/login",e);case 2:return t=n.sent,n.abrupt("return",t.data);case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()};function ve(){var n=Object(s.a)(["\n                    color: var(--color-terziary);\n                    border: 1px solid var(--color-terziary);\n                "]);return ve=function(){return n},n}function me(){var n=Object(s.a)(["\n                    color: var(--color-green);\n                    border: 1px solid var(--color-green);\n                "]);return me=function(){return n},n}function Oe(){var n=Object(s.a)(["\n    position: absolute;\n    z-index: 999;\n    top: 40px;\n    border-radius: 5px;\n    padding: 10px 20px;\n    background: var(--color-background);\n    box-shadow: 0 3px 20px 2px rgba(0, 0, 0, 0.6);\n    ","\n"]);return Oe=function(){return n},n}var ye=d.c.div(Oe(),(function(n){switch(n.type){case"succes":return Object(d.b)(me());case"error":return Object(d.b)(ve())}})),we=function(n){var e=n.notification;return e?Object(r.jsx)(ye,{type:e.type,children:e.message}):null};function ke(){var n=Object(s.a)(["\n    font-size: 15px;\n    line-height: 1.4;\n    color: var(--color-primary);\n    cursor: pointer;\n"]);return ke=function(){return n},n}function Ce(){var n=Object(s.a)(["\n    text-align: center;\n"]);return Ce=function(){return n},n}function Se(){var n=Object(s.a)(["\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: -moz-box;\n    display: -ms-flexbox;\n    display: flex;\n    justify-content: center;\n    cursor: pointer;\n    align-items: center;\n    padding: 0 20px;\n    width: 100%;\n    height: 60px;\n    background-color: var(--color-primary);\n    font-size: 14px;\n    color: #fff;\n    line-height: 1.2;\n    text-transform: uppercase;\n    -webkit-transition: all 0.4s;\n    -o-transition: all 0.4s;\n    -moz-transition: all 0.4s;\n    transition: all 0.4s;\n    outline: none;\n    border: none;\n"]);return Se=function(){return n},n}function ze(){var n=Object(s.a)(["\n    width: 100%;\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: -moz-box;\n    display: -ms-flexbox;\n    display: flex;\n    flex-wrap: wrap;\n    margin-top: 20px;\n"]);return ze=function(){return n},n}function Te(){var n=Object(s.a)(["\n    height: 68px;\n    padding: 0 25px;\n    display: block;\n    width: 100%;\n    background: 0 0;\n    font-size: 18px;\n    color: var(--color-text);\n    line-height: 1.2;\n    outline: none;\n    border: var(--color-border);\n"]);return Te=function(){return n},n}function Ne(){var n=Object(s.a)(["\n    width: 100%;\n    position: relative;\n    background-color: var(--color-background);\n"]);return Ne=function(){return n},n}function De(){var n=Object(s.a)(["\n    display: block;\n    font-size: 30px;\n    color: var(--color-text);\n    line-height: 1.2;\n    text-align: center;\n    padding-bottom: 33px;\n"]);return De=function(){return n},n}function Ee(){var n=Object(s.a)(["\n    width: 100%;\n"]);return Ee=function(){return n},n}function Me(){var n=Object(s.a)(["\n    width: 500px;\n    background: var(--color-background);\n    border-radius: 10px;\n    overflow: hidden;\n    box-shadow: 0 3px 20px 0 rgba(0, 0, 0, 0.3);\n    -moz-box-shadow: 0 3px 20px 0 rgba(0, 0, 0, 0.3);\n    -webkit-box-shadow: 0 3px 20px 0 rgba(0, 0, 0, 0.3);\n    -o-box-shadow: 0 3px 20px 0 rgba(0, 0, 0, 0.3);\n    -ms-box-shadow: 0 3px 20px 0 rgba(0, 0, 0, 0.3);\n    padding: 50px 55px 60px;\n"]);return Me=function(){return n},n}function _e(){var n=Object(s.a)(["\n    width: 100%;\n    min-height: 100vh;\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: -moz-box;\n    display: -ms-flexbox;\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: center;\n    align-items: center;\n    padding: 15px;\n    background: var(--color-header-background);\n"]);return _e=function(){return n},n}var Ae=d.c.div(_e()),Ue=d.c.div(Me()),Ie=d.c.form(Ee()),Le=d.c.span(De()),Re=d.c.div(Ne()),Fe=d.c.input(Te()),Be=d.c.div(ze()),Je=d.c.button(Se()),Ye=d.c.div(Ce()),We=d.c.a(ke()),Ze=function(n){var e=n.setUser,t=a.a.useState(""),c=Object(u.a)(t,2),o=c[0],i=c[1],s=a.a.useState(""),d=Object(u.a)(s,2),l=d[0],b=d[1],f=a.a.useState(""),p=Object(u.a)(f,2),j=p[0],h=p[1],x=a.a.useState(null),g=Object(u.a)(x,2),v=g[0],m=g[1],O=a.a.useState(!0),y=Object(u.a)(O,2),w=y[0],k=y[1],C=RegExp(/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i),S=function(){var n=!0;return o.length<=3&&(m({type:"error",message:"Team Name must be at least 3 characters"}),n=!1),w||C.test(j)||(m({type:"error",message:"invalid email address"}),n=!1),l.length<8&&(m({type:"error",message:"password too short"}),n=!1),setTimeout((function(){m(null)}),5e3),n},z=function(){var n=Object(K.a)(H.a.mark((function n(t){var r;return H.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.preventDefault(),S()){n.next=3;break}return n.abrupt("return");case 3:return n.prev=3,n.next=6,ge.login({teamName:o,password:l});case 6:r=n.sent,e(r),ie(r),n.next=15;break;case 11:n.prev=11,n.t0=n.catch(3),m({type:"error",message:"Wrong credentials"}),setTimeout((function(){m(null)}),5e3);case 15:case"end":return n.stop()}}),n,null,[[3,11]])})));return function(e){return n.apply(this,arguments)}}(),T=function(){var n=Object(K.a)(H.a.mark((function n(t){var r;return H.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.preventDefault(),S()){n.next=3;break}return n.abrupt("return");case 3:return n.prev=3,n.next=6,pe.register({teamName:o,email:j,password:l});case 6:return n.next=8,ge.login({teamName:o,password:l});case 8:r=n.sent,ie(r),e(r),n.next=17;break;case 13:n.prev=13,n.t0=n.catch(3),m({type:"error",message:"Wrong credentials"}),setTimeout((function(){m(null)}),5e3);case 17:case"end":return n.stop()}}),n,null,[[3,13]])})));return function(e){return n.apply(this,arguments)}}();return w?Object(r.jsxs)(Ae,{children:[Object(r.jsx)(we,{notification:v}),Object(r.jsx)(Ue,{children:Object(r.jsxs)(Ie,{onSubmit:z,children:[Object(r.jsx)(Le,{children:"Account Login"}),Object(r.jsx)(Re,{children:Object(r.jsx)(Fe,{type:"text",placeholder:"team name",value:o,name:"teamName",onChange:function(n){var e=n.target;return i(e.value)}})}),Object(r.jsx)(Re,{children:Object(r.jsx)(Fe,{style:{borderTop:"none"},type:"password",value:l,name:"password",placeholder:"password",onChange:function(n){var e=n.target;return b(e.value)}})}),Object(r.jsx)(Be,{children:Object(r.jsx)(Je,{type:"submit",children:"login"})}),Object(r.jsxs)(Ye,{style:{paddingTop:"45px"},children:["Not Register yet?"," ",Object(r.jsx)(We,{onClick:function(){return k(!w)},children:"Register"})]})]})})]}):Object(r.jsxs)(Ae,{children:[Object(r.jsx)(we,{notification:v}),Object(r.jsx)(Ue,{children:Object(r.jsxs)(Ie,{onSubmit:T,children:[Object(r.jsx)(Le,{children:"Creat New Account"}),Object(r.jsx)(Re,{children:Object(r.jsx)(Fe,{type:"text",placeholder:"team name",value:o,name:"teamName",onChange:function(n){var e=n.target;return i(e.value)}})}),Object(r.jsx)(Re,{children:Object(r.jsx)(Fe,{style:{borderTop:"none"},type:"email",placeholder:"email",value:j,name:"email",onChange:function(n){var e=n.target;return h(e.value)}})}),Object(r.jsx)(Re,{children:Object(r.jsx)(Fe,{style:{borderTop:"none"},type:"password",value:l,name:"password",placeholder:"password",onChange:function(n){var e=n.target;return b(e.value)}})}),Object(r.jsx)(Be,{children:Object(r.jsx)(Je,{type:"submit",children:"Register"})}),Object(r.jsxs)(Ye,{style:{paddingTop:"45px"},children:["Whant to log-in?"," ",Object(r.jsx)(We,{onClick:function(){return k(!w)},children:"Login"})]})]})})]})},Xe=function(n){var e=n.children,t=n.theme;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(p,{theme:t}),e]})},$e=function(){var n=j("theme","dark"),e=Object(u.a)(n,2),t=e[0],c=e[1],a=j("loggedUser",null),o=Object(u.a)(a,2),i=o[0],s=o[1];return Object(r.jsx)(Xe,{theme:t,children:null===i?Object(r.jsx)(Ze,{setUser:s}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(D,{switchTheme:function(n){return c(n)},setUser:s}),Object(r.jsx)(xe,{})]})})};i.a.render(Object(r.jsx)($e,{}),document.getElementById("root"))}},[[56,1,2]]]);
//# sourceMappingURL=main.b45cd9bd.chunk.js.map