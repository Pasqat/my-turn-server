(this.webpackJsonpil_mio_turno=this.webpackJsonpil_mio_turno||[]).push([[0],{33:function(n,t,r){},52:function(n,t,r){"use strict";r.r(t);var e=r(0),o=r(3),c=r.n(o),a=r(24),i=r.n(a),u=r(5),d=(r(33),r(1)),l=r(2);function s(){var n=Object(d.a)(["\n      html {\n        --color-text: #595e77;\n        --color-text-light: #3e4157;\n        --color-background: #292b3f;\n        --gradient-background: linear-gradient(to bottom, #292b3f, #332639);\n        --background-main: rgba(71, 70, 91, 0.25);\n        --color-header-background: #1d1d31;\n        --color-primary: #1099a2;\n        --color-secondary: #b19053;\n        --color-terziary: #b16550;\n        --color-border: 2px solid #37394e;\n        --color-selected: #3a3a51;\n      }\n    "]);return s=function(){return n},n}function f(){var n=Object(d.a)(["\n      html {\n        --color-text: #595e77;\n        --color-text-light: #c6c9df;\n        --color-background: #fff;\n        --gradient-background: linear-gradient(to bottom, #fff, #eae4ff);\n        --background-main: rgba(0, 0, 0, 0);\n        --color-header-background: #e8edff;\n        --color-primary: #4bbced;\n        --color-secondary: #fcd173;\n        --color-terziary: #eb7b52;\n        --color-border: 2px solid rgb(240, 246, 247);\n        --color-selected: #e8edff;\n      }\n    "]);return f=function(){return n},n}function b(){var n=Object(d.a)(["\n","\n  body {\n    height: 100%;\n    background: var(--color-background);\n    background-repeat: no-repeat;\n    color: var(--color-text);\n    overflow-x: hidden;\n    margin: 0;\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',\n    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',\n    sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  font-family: 'Lato'\n  }\n"]);return b=function(){return n},n}var j=Object(l.a)(b(),(function(n){return"light"===n.theme?Object(l.b)(f()):"dark"===n.theme?Object(l.b)(s()):void 0})),h=function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},e=r.serialize,c=void 0===e?JSON.stringify:e,a=r.deserialize,i=void 0===a?JSON.parse:a,d=Object(o.useRef)(n),l=Object(o.useState)((function(){var r=window.localStorage.getItem(n);return r?i(r):"function"===typeof t?t():t})),s=Object(u.a)(l,2),f=s[0],b=s[1];return Object(o.useEffect)((function(){var t=d.current;t!==n&&window.localStorage.removeItem(t),d.current=n,window.localStorage.setItem(n,c(f))}),[n,c,f]),[f,b]};function g(){var n=Object(d.a)([""]);return g=function(){return n},n}var v=l.c.svg.attrs({version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"})(g());function O(){var n=Object(d.a)(["\n  width: 24px;\n  height: 24px;\n"]);return O=function(){return n},n}var x=Object(l.c)(v)(O()),m=function(n){var t=n.className;return Object(e.jsxs)(x,{viewBox:"0 0 24 24",className:t,fill:"currentColor",children:[Object(e.jsx)("rect",{width:"2",height:"2",x:"9",y:"2"}),Object(e.jsx)("rect",{width:"2",height:"2",x:"13.88",y:"4.051",transform:"rotate(45.02 14.88 5.051)"}),Object(e.jsx)("rect",{width:"2",height:"2",x:"16",y:"9"}),Object(e.jsx)("rect",{width:"2",height:"2",x:"13.949",y:"14.019",transform:"rotate(-135.02 14.95 15.019)"}),Object(e.jsx)("rect",{width:"2",height:"2",x:"9",y:"16"}),Object(e.jsx)("rect",{width:"2",height:"2",x:"3.98",y:"13.949",transform:"rotate(-134.98 4.98 14.95)"}),Object(e.jsx)("rect",{width:"2",height:"2",x:"2",y:"9"}),Object(e.jsx)("rect",{width:"2",height:"2",x:"4.05",y:"4.121",transform:"rotate(44.98 5.05 5.12)"}),Object(e.jsx)("path",{d:"M10,6 C7.8,6 6,7.8 6,10 C6,12.2 7.8,14 10,14 C12.2,14 14,12.2 14,10 C14,7.8 12.2,6 10,6 Z"})]})},p=function(n){var t=n.className;return Object(e.jsx)(x,{viewBox:"0 0 24 24",className:t,fill:"currentColor",children:Object(e.jsx)("path",{d:"M8,2 C4.5,2.9 2,6.1 2,9.9 C2,14.4 5.6,18 10.1,18 C13.9,18 17,15.5 18,12 C11.9,13.7 6.3,8.1 8,2 Z"})})};function y(){var n=Object(d.a)(["\n  cursor: pointer;\n  display: flex;\n  align-items: end;\n  margin-right: 1em;\n  margin-left: auto;\n  height: 100%;\n"]);return y=function(){return n},n}function w(){var n=Object(d.a)(["\n  font-size: 1.5rem;\n  text-decoration: none;\n  color: var(--color-primary);\n"]);return w=function(){return n},n}function k(){var n=Object(d.a)(["\n  font-weight: 400;\n  font-size: 2rem;\n  margin: 0;\n"]);return k=function(){return n},n}function C(){var n=Object(d.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n  background: var(--color-background);\n  box-shadow: rgba(0, 0, 0, 0.3) 0px 1px 3px;\n  padding: 10px 2rem;\n  color: var(--color-primary);\n  font-family: 'Raleway', sans-serif;\n"]);return C=function(){return n},n}var D=l.c.div(C()),S=l.c.h2(k()),z=l.c.a(w()),M=l.c.div(y()),N=function(n){var t=n.switchTheme,r=h("theme","dark"),c=Object(u.a)(r,2),a=c[0],i=c[1];return Object(o.useEffect)((function(){t(a)}),[t,a]),Object(e.jsxs)(D,{children:[Object(e.jsx)(S,{children:"Team Name"}),Object(e.jsx)(M,{onClick:function(){return i("dark"===a?"light":"dark")},children:"light"===a?Object(e.jsx)(p,{}):Object(e.jsx)(m,{})}),Object(e.jsx)(z,{href:"#",children:"log-out"})]})},I=[31,28,31,30,31,30,31,31,30,31,30,31],T=[31,29,31,30,31,30,31,31,30,31,30,31],_=["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre"],F=r(6);function E(n){return new Date(n.getFullYear(),n.getMonth(),1).getDay()}function U(n){return n%4===0&&n%100!==0||n%400===0}function B(n){return{day:n.getDate(),month:n.getMonth(),year:n.getFullYear(),startDay:E(n)}}var R="next_month",Y="previous_month",J="update",A="new_date";function Z(n,t){var r=t.type,e=(t.initialState,t.payload);switch(r){case R:var o=new Date(n.year,n.month+1,n.day);return Object(F.a)({date:o},B(o));case Y:var c=new Date(n.year,n.month-1,n.day);return Object(F.a)(Object(F.a)({},n),{},{date:c},B(c));case J:return Object(F.a)(Object(F.a)({},n),{},{day:n.date.getDate(),month:n.date.getMonth(),year:n.date.getFullYear(),setStartday:E(n.date)});case A:var a=e.year,i=e.month,u=e.day,d=new Date(a,i,u);return Object(F.a)(Object(F.a)({},n),{},{date:d},B(d));default:throw new Error("Unsupported type: ".concat(r))}}var q=new Date,H={date:q,day:q.getDate(),month:q.getMonth(),year:q.getFullYear(),startDay:E(q)};var L=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=n.reducer,r=void 0===t?Z:t,e=Object(o.useReducer)(r,H),c=Object(u.a)(e,2),a=c[0],i=c[1],d=a.date,l=a.day,s=a.month,f=a.year,b=a.startDay,j=U(d.getFullYear())?T:I;function h(n){return n===q.getDate()}var g=function(){i({type:R})},v=function(){i({type:Y})},O=function(n,t,r){i({type:A,payload:{year:n,month:t,day:r}})};return{isToday:h,days:j,nextMonth:g,previousMonth:v,newDate:O,date:d,day:l,month:s,year:f,startDay:b}};function X(){var n=Object(d.a)(["\n      background-color: var(--color-selected);\n    "]);return X=function(){return n},n}function G(){var n=Object(d.a)(["\n      color: var(--color-primary);\n    "]);return G=function(){return n},n}function K(){var n=Object(d.a)(["\n  width: 14.2%;\n  height: 40px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  user-select: none;\n\n  ","\n\n  ","\n"]);return K=function(){return n},n}function P(){var n=Object(d.a)(["\n  width: 100%;\n  display: flex;\n  flex-wrap: wrap;\n"]);return P=function(){return n},n}function Q(){var n=Object(d.a)(["\n  cursor: pointer;\n"]);return Q=function(){return n},n}function V(){var n=Object(d.a)(["\n  display: flex;\n  justify-content: space-between;\n  padding: 20px 15px;\n  border-bottom: var(--color-border);\n  color: var(--color-primary);\n"]);return V=function(){return n},n}function W(){var n=Object(d.a)(["\n  width: 18rem;\n  position: sticky;\n  top: 0;\n  background: var(--color-background);\n"]);return W=function(){return n},n}l.c.div(W()),l.c.div(V()),l.c.div(Q()),l.c.div(P()),l.c.div(K(),(function(n){return n.isToday&&Object(l.b)(G())}),(function(n){return n.isSelected&&Object(l.b)(X())}));function $(){var n=Object(d.a)(["\n        background-color: var(--color-terziary);\n      "]);return $=function(){return n},n}function nn(){var n=Object(d.a)(["\n        background-color: var(--color-secondary);\n      "]);return nn=function(){return n},n}function tn(){var n=Object(d.a)(["\n        background-color: var(--color-primary);\n      "]);return tn=function(){return n},n}function rn(){var n=Object(d.a)(["\n  width: 18px;\n  height: 18px;\n  margin-right: 10px;\n  border-radius: 50%;\n\n  ","\n"]);return rn=function(){return n},n}function en(){var n=Object(d.a)(["\n  display: flex;\n  align-items: center;\n  padding-bottom: 1rem;\n"]);return en=function(){return n},n}function on(){var n=Object(d.a)(["\n  padding: 20px;\n"]);return on=function(){return n},n}function cn(){var n=Object(d.a)(["\n  max-width: 18rem;\n  /* border-right: var(--color-border); */\n  position: sticky;\n  top: 0;\n"]);return cn=function(){return n},n}var an=l.c.div(cn()),un=l.c.div(on()),dn=l.c.div(en()),ln=l.c.div(rn(),(function(n){return"primary"===n.color?Object(l.b)(tn()):"secondary"===n.color?Object(l.b)(nn()):Object(l.b)($())})),sn=function(){return Object(e.jsxs)(an,{children:[Object(e.jsx)("div",{style:{height:59,borderBottom:"var(--color-border)"}}),Object(e.jsxs)(un,{children:[Object(e.jsxs)(dn,{children:[Object(e.jsx)(ln,{color:"primary"}),"Morning"]}),Object(e.jsxs)(dn,{children:[Object(e.jsx)(ln,{color:"secondary"}),"Evening"]}),Object(e.jsxs)(dn,{children:[Object(e.jsx)(ln,{color:"terziary"}),"Night"]})]})]})},fn=r(11),bn={morning:"morning",afternoon:"afternoon",night:"night"},jn=function(n){switch(n){case bn.morning:return Object(e.jsx)(Ln,{workshift:bn.morning});case bn.afternoon:return Object(e.jsx)(Ln,{workshift:bn.afternoon});case bn.night:default:return Object(e.jsx)(Ln,{workshift:bn.night})}};function hn(){var n=Object(d.a)(["\n  font-size: 1rem;\n  display: none;\n  color: red;\n  ",":hover & {\n    display: block;\n    cursor: pointer;\n  }\n"]);return hn=function(){return n},n}function gn(){var n=Object(d.a)(["\n  padding: 10px 20px;\n  font-size: 1.5rem;\n"]);return gn=function(){return n},n}function vn(){var n=Object(d.a)(["\n          background-color: var(--color-terziary);\n        "]);return vn=function(){return n},n}function On(){var n=Object(d.a)(["\n          background-color: var(--color-secondary);\n        "]);return On=function(){return n},n}function xn(){var n=Object(d.a)(["\n          background-color: var(--color-primary);\n        "]);return xn=function(){return n},n}function mn(){var n=Object(d.a)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: 100%;\n  width: 100%;\n  cursor: pointer;\n  background-color: yellow;\n  cursor: pointer;\n  ","\n"]);return mn=function(){return n},n}function pn(){var n=Object(d.a)(["\n      background-color: var(--color-selected);\n    "]);return pn=function(){return n},n}function yn(){var n=Object(d.a)(["\n  width: 2.8%;\n  border: var(--color-border);\n  ",";\n  position: sticky;\n  top: -2;\n  background-color: var(--color-background);\n  zindex: 5;\n"]);return yn=function(){return n},n}function wn(){var n=Object(d.a)(["\n      background-color: var(--color-selected);\n    "]);return wn=function(){return n},n}function kn(){var n=Object(d.a)(["\n  border: var(--color-border);\n  font-weight: normal;\n  position: relative;\n  ",";\n"]);return kn=function(){return n},n}function Cn(){var n=Object(d.a)(["\n  border: var(--color-border);\n"]);return Cn=function(){return n},n}function Dn(){var n=Object(d.a)(["\n  /* \ud83e\udd16 Are you sure this is needed? */\n"]);return Dn=function(){return n},n}function Sn(){var n=Object(d.a)(["\n  border-collapse: collapse;\n  width: 100%;\n  /* background: var(--background-main); */\n"]);return Sn=function(){return n},n}function zn(){var n=Object(d.a)(["\n      background-color: var(--color-selected);\n    "]);return zn=function(){return n},n}function Mn(){var n=Object(d.a)(["\n      background-color: var(--color-selected);\n    "]);return Mn=function(){return n},n}function Nn(){var n=Object(d.a)(["\n  /* width: 14.2%; */\n  height: 2rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  user-select: none;\n  /* border-left: var(--color-border) */\n\n  ","\n\n  ","\n"]);return Nn=function(){return n},n}function In(){var n=Object(d.a)(["\n  cursor: pointer;\n  margin: 0 15px;\n"]);return In=function(){return n},n}function Tn(){var n=Object(d.a)(["\n  display: flex;\n  justify-content: center;\n  padding: 20px 15px;\n  color: var(--color-primary);\n  letter-spacing: 2px;\n  /* background: var(--background-main); */\n  overflow-y: auto;\n"]);return Tn=function(){return n},n}function _n(){var n=Object(d.a)(["\n  /* flex: 1 1 auto; */\n  /* display: flex; */\n"]);return _n=function(){return n},n}function Fn(){var n=Object(d.a)(["\n  display: flex;\n  flex-direction: column;\n  // overflow-y: none;\n  // overflow-x: scroll;\n  /* margin-left: 18rem; */\n  height: 100%;\n  width: 100%;\n"]);return Fn=function(){return n},n}var En=l.c.div(Fn()),Un=l.c.div(_n()),Bn=l.c.div(Tn()),Rn=l.c.div(In()),Yn=l.c.div(Nn(),(function(n){return n.isToday&&Object(l.b)(Mn())}),(function(n){return n.isSelected&&Object(l.b)(zn())})),Jn=l.c.table(Sn()),An=l.c.thead(Dn()),Zn=l.c.tr(Cn()),qn=l.c.td(kn(),(function(n){return n.isToday&&Object(l.b)(wn())})),Hn=l.c.td(yn(),(function(n){return n.isToday&&Object(l.b)(pn())})),Ln=l.c.div(mn(),(function(n){switch(n.workshift){case bn.morning:return Object(l.b)(xn());case bn.afternoon:return Object(l.b)(On());case bn.night:return Object(l.b)(vn());default:throw new Error("workshift must be one of this: 'morning', 'afternoon', 'night'. Use `".concat(bn,"`"))}})),Xn=l.c.div(gn()),Gn=l.c.div(hn(),Xn),Kn=r(7),Pn=r.n(Kn),Qn="/api/schedule",Vn=function(n,t){return Pn.a.get("".concat(Qn,"/").concat(n,"/").concat(t+1)).then((function(n){return n.data}))},Wn=function(n,t,r){return Pn.a.post("".concat(Qn,"/").concat(t,"/").concat(r+1),n).then((function(n){return n.data}))},$n=function(n,t,r){return console.log("newObject in update",r),Pn.a.put("".concat(Qn,"/").concat(n,"/").concat(t),r).then((function(n){return n.data}))},nt=function(n,t){return Pn.a.delete("".concat(Qn,"/").concat(n,"/").concat(t)).then((function(n){return n.data}))},tt=[bn.morning,bn.afternoon,bn.night,""],rt=function(){var n=L(),t=n.isToday,r=n.nextMonth,o=n.previousMonth,a=n.newDate,i=n.days,d=n.day,l=n.month,s=n.year,f=h("turns",[]),b=Object(u.a)(f,2),j=b[0],g=b[1];c.a.useEffect((function(){Vn(s,l).then((function(n){g(n)}))}),[s,l,g]);var v=function(n,t){for(var r=n.userId,o=n.name,c=n.days,a=n._id,i=[Object(e.jsx)(qn,{children:Object(e.jsxs)(Xn,{children:[o,Object(e.jsx)(Gn,{onClick:function(){return function(n){var t=j.filter((function(t){return t._id!==n}));nt(s,n),g(Object(fn.a)(t))}(a)},children:"delete"})]})},r||"is-unique-enough ".concat(Math.floor(100*Math.random())))],u=function(n){c&&c[n]?i.push(Object(e.jsx)(qn,{onClick:function(){return O(a,n,c[n])},children:jn(c[n])},n)):i.push(Object(e.jsx)(qn,{onClick:function(){return O(a,n,c[n])}},n))},d=0;d<t-1;d++)u(d);return i},O=function(n,t,r){var e=tt.findIndex((function(n){return n===r})),o=e;e===tt.length-1&&(o=-1);var c=j.find((function(t){return t._id===n})).days;null===c&&(c=[]),c[t]=tt[o+1],$n(s,n,c),g(Object(fn.a)(j))};return Object(e.jsxs)(En,{children:[Object(e.jsxs)(Bn,{children:[Object(e.jsx)(Rn,{onClick:function(){return o()},children:"<"}),Object(e.jsxs)("div",{children:[_[l].toUpperCase()," ",s]}),Object(e.jsx)(Rn,{onClick:function(){return r()},children:">"})]}),Object(e.jsx)(Un,{children:Object(e.jsxs)(Jn,{children:[Object(e.jsx)(An,{children:Object(e.jsx)(Zn,{children:Array(i[l]+1).fill(null).map((function(n,r){return Object(e.jsx)(Hn,{isToday:t(r),children:Object(e.jsx)(Yn,{isSelected:r===d,onClick:function(){return a(s,l,r)},children:r>0?r:""})},r)}))})}),Object(e.jsxs)("tbody",{children:[j.map((function(n){return Object(e.jsx)(Zn,{children:v(n,i[l]+1)},n.userId)})),Object(e.jsx)(Zn,{children:Object(e.jsx)(qn,{children:Object(e.jsx)(Xn,{onClick:function(){return function(){var n=prompt("Insert name");if(null!==n){if(0===n.length)return alert("Name can't be empty");Wn({teamName:"CovidUTI",teamId:"733326af-6d26-49f4-8204-3f944f20c34d",name:n},s,l).then((function(n){return g([].concat(Object(fn.a)(j),[n]))}))}}()},style:{cursor:"pointer",display:"flex",alignContent:"center",justifyContent:"center"},children:Object(e.jsx)("span",{style:{fontSize:"1rem"},role:"img","aria-label":"add new worker",children:"\u2795"})})})},"addNewRow")]})]})})]})};function et(){var n=Object(d.a)(["\n  width: 100vw;\n  display: flex;\n  flex-direction: row;\n"]);return et=function(){return n},n}var ot=l.c.div(et()),ct=function(){return Object(e.jsxs)(ot,{children:[Object(e.jsx)(sn,{}),Object(e.jsx)(rt,{style:{backgroundColor:"var(--gradient-background)",height:"100%"}})]})},at=function(n){var t=n.children,r=n.theme;return Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)(j,{theme:r}),t]})},it=function(){var n=h("theme","dark"),t=Object(u.a)(n,2),r=t[0],o=t[1];return Object(e.jsxs)(at,{theme:r,children:[Object(e.jsx)(N,{switchTheme:function(n){return o(n)}}),Object(e.jsx)(ct,{})]})};i.a.render(Object(e.jsx)(it,{}),document.getElementById("root"))}},[[52,1,2]]]);
//# sourceMappingURL=main.849ae850.chunk.js.map